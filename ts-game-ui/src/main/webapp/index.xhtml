<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pm="http://primefaces.org/mobile">
<f:view renderKitId="PRIMEFACES_MOBILE" />
<h:head>

</h:head>

<h:body>

	<pm:page id="main">
		<pm:header title="TS-GAME" swatch="b">
			<p:button styleClass="ui-btn-right ui-btn-inline" value="Settings"
				icon="ui-icon-gear" outcome="pm:settings" />
		</pm:header>

		<pm:content>

			<h:form id="mainForm">
				<p:messages id="messages" showDetail="true" autoUpdate="true" closable="true" />
				<pm:field>
					<p:outputLabel for="targetServer" value="Select Server: " />
					<p:outputPanel id="displayServer" >
						<p:selectOneMenu id="targetServer" value="#{mainView.selectServer}">
							<f:selectItems value="#{settingView.servers}" />
							<p:ajax event="change"  listener="#{mainView.selectServerChange}" />
						</p:selectOneMenu>
					</p:outputPanel>
				</pm:field>
				<pm:field>
					<p:outputLabel for="geokey" value="GeoKey:" />
					<p:inputText id="geokey" placeholder="1234.00:5678.00" />
				</pm:field>
				<p:commandButton value="Execute" update="display" actionListener="#{mainView.execute}" />
				<p:commandButton value="Clear" update="mainForm" process="@this" />

				<p:outputPanel id="display" >
					<h2>Node Result</h2>
					<pm:field>
						<p:outputLabel for="titleResult" value="Title:" />
						<p:inputTextarea id="titleResult" value="#{mainView.nodeResult.title}" readonly="true"/>
						<p:outputLabel for="desResult" value="Description:" />
						<p:inputTextarea id="desResult" value="#{mainView.nodeResult.desciption}" readonly="true"/>
						<p:spacer></p:spacer>
                    		<p:outputPanel  style="text-align:center">
							<h:graphicImage value="data:image/jpg;base64,#{mainView.nodeResult.image1}" />
							<p:spacer></p:spacer>
							<h:graphicImage value="data:image/jpg;base64,#{mainView.nodeResult.image2}" />
							<p:spacer></p:spacer>
							<h:graphicImage value="data:image/jpg;base64,#{mainView.nodeResult.image3}" />
						</p:outputPanel>
					</pm:field>
				</p:outputPanel>
			</h:form>

		</pm:content>
	</pm:page>

	<pm:page id="settings">
		<pm:header title="Settings" swatch="b">
			<p:button styleClass="ui-btn-left ui-btn-inline" value="Back"
				icon="ui-icon-arrow-l" outcome="pm:main" />
		</pm:header>

		<pm:content>

			<h:form id="settingsForm">
				    <p:messages id="messages" showDetail="true" autoUpdate="true" closable="true" />
				
				<pm:field>
					<p:outputLabel for="cental" value="Cental IP" />
					<p:inputText id="cental" value="#{settingView.ipConfig.centralIp}" placeholder="http://192.168.1.123:8080" />
					<p:outputLabel for="myId" value="IP/PORT" />
					<p:inputText id="myId" value="#{settingView.ipConfig.teamServerIp}" placeholder="192.168.1.123:8080" />
					<p:commandButton value="Activate" action="#{mainView.activateCentral}" />
					<p:commandButton value="Check Active"  action="#{mainView.checkAcitveCentral}" />
					
				</pm:field>

				<pm:field>
					<p:outputLabel for="groupA" value="Group A IP:" />
					<p:inputText id="groupA" value="#{settingView.ipConfig.aIp}" placeholder="http://192.168.1.123:8080" />
				</pm:field>
				<pm:field>
					<p:outputLabel for="groupB" value="Group B IP:" />
					<p:inputText id="groupB" value="#{settingView.ipConfig.bIp}" placeholder="http://192.168.1.123:8080" />
				</pm:field>
				<pm:field>
					<p:outputLabel for="groupC" value="Group C IP:" />
					<p:inputText id="groupC" value="#{settingView.ipConfig.cIp}" placeholder="http://192.168.1.123:8080" />
				</pm:field>
				<pm:field>
					<p:outputLabel for="groupD" value="Group D IP:" />
					<p:inputText id="groupD" value="#{settingView.ipConfig.dIp}" placeholder="http://192.168.1.123:8080" />
				</pm:field>
				<p:commandButton value="Save" update=":main:mainForm:displayServer" action="#{settingView.saveSettings}" />
			</h:form>

		</pm:content>
	</pm:page>
</h:body>

</html>